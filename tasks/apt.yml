---

# install and setup etcd on Debian-based/like distros (apt package manager)
- name: install needed packages
  ansible.builtin.apt:
    name: "{{ etcd_packages }}"
    state: present
  tags: etcd_install

- name: configure etcd
  ansible.builtin.template:
    src: "{{ etcd_templates_dir }}/etcd.conf.j2"
    dest: "{{ etcd_config_file }}"
    state: present
  notify: etcd restart
  tags: etcd_config
